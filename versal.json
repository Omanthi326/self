{
  "name": "LMS with Plagiarism Detection",
  "version": "1.0.0",
  "services": {
    "frontend": {
      "build": {
        "context": "./lms_frontend",
        "dockerfile": "Dockerfile.frontend"
      },
      "ports": ["3000:3000"],
      "volumes": ["./lms_frontend:/app"],
      "environment": {
        "NODE_ENV": "development",
        "REACT_APP_API_URL": "http://localhost:8000/api"
      },
      "depends_on": ["backend"]
    },
    "backend": {
      "build": {
        "context": "./lms_backend",
        "dockerfile": "Dockerfile.backend"
      },
      "ports": ["8000:8000"],
      "volumes": ["./lms_backend:/app", "./media:/app/media"],
      "environment": {
        "DEBUG": "True",
        "SECRET_KEY": "your-secret-key-here",
        "ALLOWED_HOSTS": "localhost,127.0.0.1",
        "DATABASE_URL": "postgres://postgres:postgres@db:5432/lms_db"
      },
      "depends_on": ["db"]
    },
    "db": {
      "image": "postgres:13",
      "volumes": ["postgres_data:/var/lib/postgresql/data"],
      "environment": {
        "POSTGRES_USER": "postgres",
        "POSTGRES_PASSWORD": "postgres",
        "POSTGRES_DB": "lms_db"
      },
      "ports": ["5432:5432"]
    }
  },
  "volumes": {
    "postgres_data": {}
  }
}